# Task Tracker Deployment Guide

## Current Status
**Date:** 2026-02-04 ~4:00 PM PST  
**Status:** ⏳ In Progress - Waiting for GitHub authentication

## What's Built
- ✅ Backend API (Node.js + Express + PostgreSQL)
  - Google OAuth authentication
  - Task CRUD operations
  - Priority levels, categories, tags
  - Activity logging
- ✅ Frontend UI (React + Vite)
  - Google Sign-In
  - Task list with filters
  - Create/update/delete tasks
  - Clean, responsive design

## Next Steps

### 1. GitHub Repository
- ⏳ **BLOCKED:** Need GitHub authentication for olliekoads
  
**Option A (Quickest):** Edwin enters device code
  - Code: 8E4B-408F
  - URL: https://github.com/login/device
  
**Option B:** Create Personal Access Token
  - Visit: https://github.com/settings/tokens
  - Create token with "repo" scope
  - Use: `echo "TOKEN" | gh auth login --with-token`
  
- Once authenticated: Create repo under olliekoads/task-tracker

### 2. Google OAuth Setup
Need to create OAuth credentials in Google Cloud Console:
- Visit: https://console.cloud.google.com/apis/credentials
- Create OAuth 2.0 Client ID
- Authorized redirect URIs:
  - http://localhost:3000 (development)
  - https://tasks.famylin.com (production)
- Save Client ID for environment variables

### 3. Railway Deployment (Backend)
```bash
# Install backend dependencies
cd backend && npm install

# Deploy to Railway
railway login  # Use olliekoads@famylin.com
railway init
railway up

# Set environment variables in Railway dashboard:
PORT=3001
DATABASE_URL=[auto-generated by Railway PostgreSQL]
GOOGLE_CLIENT_ID=[from step 2]
FRONTEND_URL=https://tasks.famylin.com
ALLOWED_EMAILS=edwinlin1987@gmail.com,mmyung806@gmail.com
```

### 4. Vercel Deployment (Frontend)
```bash
# Install frontend dependencies (already done)
cd frontend

# Deploy to Vercel
vercel login  # Use olliekoads@famylin.com
vercel --prod

# Set environment variables in Vercel:
VITE_GOOGLE_CLIENT_ID=[from step 2]
VITE_API_URL=[Railway backend URL]
```

### 5. Domain Configuration
- Add CNAME record in Namecheap for tasks.famylin.com
- Point to Vercel deployment
- Update CORS in backend to allow tasks.famylin.com

## Environment Variables Summary

### Backend (.env)
```
PORT=3001
DATABASE_URL=postgresql://...
GOOGLE_CLIENT_ID=xxx.apps.googleusercontent.com
FRONTEND_URL=https://tasks.famylin.com
ALLOWED_EMAILS=edwinlin1987@gmail.com,mmyung806@gmail.com
```

### Frontend (.env)
```
VITE_GOOGLE_CLIENT_ID=xxx.apps.googleusercontent.com
VITE_API_URL=https://task-tracker-backend.railway.app
```

## Testing Checklist
- [ ] Backend health check: GET /health
- [ ] Google OAuth login works
- [ ] Only whitelisted emails can access
- [ ] Create task
- [ ] Update task status
- [ ] Delete task
- [ ] Tasks persist across page refreshes
- [ ] Filters work correctly
- [ ] Mobile responsive

## Repository Structure
```
task-tracker/
├── backend/
│   ├── src/
│   │   ├── index.js       # Express server
│   │   ├── db.js          # PostgreSQL setup
│   │   ├── auth.js        # Google OAuth
│   │   └── routes/
│   │       └── tasks.js   # Task API routes
│   ├── package.json
│   └── .env.example
├── frontend/
│   ├── src/
│   │   ├── App.jsx        # Main React component
│   │   ├── App.css        # Styles
│   │   ├── main.jsx       # Entry point
│   │   └── index.css
│   ├── package.json
│   └── .env.example
└── README.md
```

## Notes
- Using same OAuth pattern as poker-night-app
- PostgreSQL for persistence (survives conversation resets)
- Deployed under olliekoads@famylin.com (dev work)
- Simple, clean UI focused on quick task management
